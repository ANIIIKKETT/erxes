(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1876],{82964:function(e,t,n){"use strict";n.d(t,{u:function(){return o},P:function(){return c}});var l=n(67294),r=n.n(l),a=n(69713).Z,i=n(50210);function o(e,t){return r().createElement(r().Fragment,null,e&&r().createElement(i.Z,{className:"language-javascript"},"import "+e+' from "erxes-ui/lib/components/'+e+'";'),t&&r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("required",null,"* required prop")),r().createElement(a,null,r().createElement("thead",null,r().createElement("tr",null,r().createElement("th",null,"Name"),r().createElement("th",null,"Type"),r().createElement("th",null,"Default"),r().createElement("th",null,"Description"))),r().createElement("tbody",null,t.map((function(e,t){return r().createElement("tr",{key:t},e.map((function(e,t){return r().createElement("td",{key:t},"*"===e[e.length-1]?r().createElement(r().Fragment,null,e.slice(0,-1),r().createElement("required",null,"*")):r().createElement(r().Fragment,null,e))})))}))))))}function c(e){var t=JSON.stringify(e);return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/{}/g,"")).replace(/{"/g,"")).replace(/":/g,"=")).replace(/,"/g," ")).replace(/}/g,"")).replace(/=true/g,"")).replace(/"</g,"{<")).replace(/>"/g,">}")).replace(/true/g,"{true}")).replace(/false/g,"{false}")}},13454:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S},frontMatter:function(){return I},metadata:function(){return w},toc:function(){return F}});var l,r=n(74034),a=n(79973),i=n(67294),o=n.n(i),c=n(3905),u=n(5977),p=n(36007),m=n(80951),d=n(68027),s=n(69061),f=n(21973),y=n(54656),E=n(21730),h=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e){function t(t){var n=e.call(this,t)||this;return n.filterItems=function(e){n.setState({key:e.target.value});var t=n.props.update;t&&t()},n.onClick=function(e){var t,l,r=n.props,a=r.history,i=r.paramKey;if(r.multiple){var o=(0,p.getParam)(a,[i]),c=o?o.split(","):[];if(c.includes(e)){var u=c.indexOf(e);c.splice(u,1)}else c.push(e);(0,p.setParams)(a,((l={})[i]=c.toString(),l))}else(0,p.setParams)(a,((t={})[i]=e,t));(0,p.removeParams)(a,"page")},n.groupByParent=function(e){var t="parentId";return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},n.onToggle=function(e,t){var l=n.state.parentFieldIds;l[e]=!t,n.setState({parentFieldIds:l})},n.state={key:"",parentFieldIds:{}},n}return h(t,e),t.prototype.getCount=function(e,t){var n=this.props.counts,l=n[e._id];if(!this.props.treeView||t)return l;if(e.relatedIds)for(var r=0,a=e.relatedIds||[];r<a.length;r++){l+=n[a[r]]}return l},t.prototype.renderItems=function(){var e=this,t=this.props,n=t.history,l=t.fields,r=t.paramKey,a=t.icon,i=t.searchable,c=t.multiple,u=t.treeView,d=this.state.key;if(0===l.length)return o().createElement(s.Z,{icon:a,text:"No templates",size:"full"});var h=function(t,l){if(d&&t.name.toLowerCase().indexOf(d)<0)return!1;if(!t._id||!t.name)return null;var i="",u=t._id,s=(0,p.getParam)(n,[r]);return(s===u||c&&s&&s.includes(u))&&(i="active"),o().createElement("li",{key:u,title:t.name},o().createElement("a",{href:"#param",tabIndex:0,className:i,onClick:e.onClick.bind(e,u)},a?o().createElement(y.Z,{icon:a,style:{color:t.colorCode}}):null," ",o().createElement(m.G9,null,t.name),o().createElement(m.Ic,null,e.getCount(t,l))))};return o().createElement(E.yk,null,i&&o().createElement(f.Z,{onChange:this.filterItems}),o().createElement(m.wb,null,function(){if(!u)return l.map((function(e){return h(e)}));var t=l.filter((function(e){return e.parentId})),n=l.filter((function(e){return!e.parentId})),r=e.groupByParent(t),a=function(t){var n=r[t._id];if(n){var l=e.state.parentFieldIds[t._id];return o().createElement(m.wb,{key:"parent-"+t._id},h(t,l),o().createElement(E.AS,null,o().createElement(E.Xs,{onClick:e.onToggle.bind(e,t._id,l)},o().createElement(y.Z,{icon:l?"angle-down":"angle-right"})),l&&n.map((function(e){return a(e)}))))}return h(t)};return n.map((function(e){return a(e)}))}()))},t.prototype.render=function(){var e=this.props,t=e.fields,n=e.loading;return o().createElement(d.Z,{loading:n,count:t.length,data:this.renderItems(),emptyText:"Empty",emptyIcon:"folder-2",size:"small",objective:!0})},t}(o().Component),b=(0,u.EN)(g),k=n(50210),v=n(60641),_=n(69713),P=n(82964);function C(e){var t=e.type,n=e.color,l=e.related,r=(e.table,["First test","Second test","Third test"]),a=["red","blue","green"],i=[];n?r.map((function(e,t){i.push({_id:t.toString(),name:e,colorCode:a[t]})})):r.map((function(e,t){i.push({_id:t.toString(),name:e})}));var c=[{_id:"0",name:"Parent 1"},{_id:"1",name:"Parent 2"},{_id:"2",parentId:"0",name:"Child of parent 1"},{_id:"3",parentId:"1",name:"Child of parent 2"},{_id:"4",parentId:"1",name:"Child of parent 2"}],u=[{_id:"0",name:"Parent 1",relatedIds:[2]},{_id:"1",name:"Parent 2",relatedIds:[3,4]},{_id:"2",parentId:"0",name:"Child of parent 1"},{_id:"3",parentId:"1",name:"Child of parent 2"},{_id:"4",parentId:"1",name:"Child of parent 2"}],p=function(e){var n;return(n={paramKey:"tag",icon:"icon"===t&&"tag-alt",counts:l?[1,2,3,4,5]:[]})[e]="counts"!==e||[1,2,3],n.fields="tree"===t?l?u:c:"empty"===t?[]:i,n},m=function(e){return o().createElement(o().Fragment,null,o().createElement("div",{className:v.Z.styled},o().createElement(b,p(e))),o().createElement(k.Z,{className:"language-jsx"},"<>\n\t<FilterByParams "+(t=p(e),(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=JSON.stringify(t)).replace(/{"/g,"{")).replace(/":/g,":")).replace(/,"/g,", ")).replace(/, icon:false/g,"")).replace(/, undefined:true/g,"")).replace(/, isIndented:true}/g,"} isIndented={true}")).replace(/, loading:true/g," loading")).replace(/, treeView:true/g," treeView")).replace(/, multiple:true/g," multiple")).replace(/, searchable:true/g," searchable")).replace(/, icon:/g," icon=")).replace(/com"}],/g,'com"}]}')).replace(/},/g,"},")).replace(/paramKey:/g,"paramKey=")).replace(/, counts:/g," counts={")).replace(/{_/g,"\n\t\t{_")).replace(/, fields:/g," fields={")).replace(/]}/g,"]}")).replace(/] /g,"]} ")).slice(1,n.length)+" />\n</>")));var t,n};return"load"===t?m("loading"):"search"===t?m("searchable"):"count"===t?m("counts"):"multiple"===t?m("multiple"):"tree"===t?m("treeView"):"color"===t?m("color"):"APIfilterbyparams"===t?o().createElement(o().Fragment,null,(0,P.u)("FilterByParams"),o().createElement("p",null,o().createElement("required",null,"* required prop")),o().createElement(_.Z,null,o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",{colSpan:"2"},"Name"),o().createElement("th",null,"Type"),o().createElement("th",null,"Defualt"),o().createElement("th",null,"Description"))),o().createElement("tr",null,o().createElement("td",{rowSpan:"5"},"fields",o().createElement("required",null,"*")),o().createElement("td",null,"_id"),o().createElement("td",null,"string"),o().createElement("td",null),o().createElement("td",null,"Define id")),o().createElement("tr",null,o().createElement("td",null,"name"),o().createElement("td",null,"string"),o().createElement("td",null),o().createElement("td",null,"Define name")),o().createElement("tr",null,o().createElement("td",null,"colorCode"),o().createElement("td",null,"number"),o().createElement("td",null),o().createElement("td",null,"Add custom color")),o().createElement("tr",null,o().createElement("td",null,"parentId"),o().createElement("td",null,"string"),o().createElement("td",null),o().createElement("td",null,"Define parent id")),o().createElement("tr",null,o().createElement("td",null,"relatedIds"),o().createElement("td",null,"array"),o().createElement("td",null),o().createElement("td",null,"Define related items' ids")),o().createElement("tbody",null,o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"counts",o().createElement("required",null,"*")),o().createElement("td",null,"any"),o().createElement("td",null),o().createElement("td",null,"Define count numbers of list items")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"paramKey",o().createElement("required",null,"*")),o().createElement("td",null,"string"),o().createElement("td",null),o().createElement("td",null,"Key, used when onClick function runs.")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"icon"),o().createElement("td",null,"string"),o().createElement("td",null),o().createElement("td",null,"Add icon to list items")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"loading",o().createElement("required",null,"*")),o().createElement("td",null,"boolean"),o().createElement("td",null),o().createElement("td",null,"Activates loading spinner")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"searchable"),o().createElement("td",null,"boolean"),o().createElement("td",null),o().createElement("td",null,"Add search bar and make the list searchable")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"multiple"),o().createElement("td",null,"boolean"),o().createElement("td",null,"false"),o().createElement("td",null,"Make it possible to select multiple items")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"treeView"),o().createElement("td",null,"boolean"),o().createElement("td",null),o().createElement("td",null,"Activates tree view of list")),o().createElement("tr",null,o().createElement("td",{colSpan:"2"},"update"),o().createElement("td",null,"boolean"),o().createElement("td",null),o().createElement("td",null,"Define function to filter items"))))):m()}var I={id:"filterbyparams",title:"Filter by Params"},w={unversionedId:"components/FilterByParams/filterbyparams",id:"components/FilterByParams/filterbyparams",isDocsHomePage:!1,title:"Filter by Params",description:"Example",source:"@site/docs/components/FilterByParams/filterbyparams.md",sourceDirName:"components/FilterByParams",slug:"/components/FilterByParams/filterbyparams",permalink:"/components/FilterByParams/filterbyparams",editUrl:"https://github.com/erxes/erxes/edit/develop/docs/docs/components/FilterByParams/filterbyparams.md",version:"current",lastUpdatedBy:"enkhzule",lastUpdatedAt:1638773199,formattedLastUpdatedAt:"12/6/2021",frontMatter:{id:"filterbyparams",title:"Filter by Params"},sidebar:"components",previous:{title:"Filterable List",permalink:"/components/FilterableList/filterablelist"},next:{title:"Help Popover",permalink:"/components/HelpPopOver/helppopover"}},F=[{value:"Example",id:"example",children:[]},{value:"Empty",id:"empty",children:[]},{value:"Loading",id:"loading",children:[]},{value:"Count",id:"count",children:[]},{value:"Multiple",id:"multiple",children:[]},{value:"Searchable",id:"searchable",children:[]},{value:"Icon",id:"icon",children:[]},{value:"Color",id:"color",children:[]},{value:"Tree view",id:"tree-view",children:[]},{value:"Related",id:"related",children:[]},{value:"API",id:"api",children:[]}],x={toc:F};function S(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,c.kt)("wrapper",(0,r.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"example"},"Example"),(0,c.kt)("p",null,"Simple list that can become searchable by parameters."),(0,c.kt)(C,{mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"empty"},"Empty"),(0,c.kt)("p",null,"When fields have no list it shows emptyState."),(0,c.kt)(C,{type:"empty",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"loading"},"Loading"),(0,c.kt)("p",null,"Show loading spinner by ",(0,c.kt)("code",null,"loading")," prop."),(0,c.kt)(C,{type:"load",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"count"},"Count"),(0,c.kt)("p",null,"Show count numbers by giving them to ",(0,c.kt)("code",null,"counts")," prop."),(0,c.kt)(C,{type:"count",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"multiple"},"Multiple"),(0,c.kt)("p",null,"Make it possible to select multiple items by ",(0,c.kt)("code",null,"multiple")," prop."),(0,c.kt)(C,{type:"multiple",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"searchable"},"Searchable"),(0,c.kt)("p",null,"Add search bar on top of the list and make it searchable with ",(0,c.kt)("code",null,"searchable")," prop."),(0,c.kt)(C,{type:"search",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"icon"},"Icon"),(0,c.kt)("p",null,"Add avatar by ",(0,c.kt)("code",null,"icon")," prop."),(0,c.kt)(C,{type:"icon",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"color"},"Color"),(0,c.kt)("p",null,"Add custom color to icon by ",(0,c.kt)("code",null,"colorCode")," prop."),(0,c.kt)(C,{type:"icon",color:!0,mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"tree-view"},"Tree view"),(0,c.kt)("p",null,"Show tree view list by ",(0,c.kt)("code",null,"treeView")," prop. Fields should have ",(0,c.kt)("code",null,"_id")," and ",(0,c.kt)("code",null,"parentId"),"."),(0,c.kt)(C,{type:"tree",mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"related"},"Related"),(0,c.kt)("p",null,"Find sum of all the related items by id with ",(0,c.kt)("code",null,"relatedIds")," prop. It shows on the item, defined the ",(0,c.kt)("code",null,"relatedId")," prop."),(0,c.kt)(C,{type:"tree",related:!0,mdxType:"FilterByParamsComponent"}),(0,c.kt)("h2",{id:"api"},"API"),(0,c.kt)(C,{type:"APIfilterbyparams",table:[["fields","any[]","","Define list items"],["loading","boolean","","Activates loading spinner"],["className","string","","Define className"],["treeView","boolean","","Activates tree view of list"],["isIndented","boolean","","Take space between arrow and title"],["onClick","function","","Define click handler function when list item is clicked"],["onSearch","function","","Define search function"],["onExit","function","",""]],mdxType:"FilterByParamsComponent"}))}S.isMDXComponent=!0},68027:function(e,t,n){"use strict";var l,r=n(69061),a=n(16719),i=n(67294),o=n.n(i),c=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.showData=function(){var e=this.props,t=e.loading,n=e.count,l=e.data,i=e.emptyIcon,c=e.emptyImage,u=e.emptyText,p=e.size,m=e.objective,d=e.emptyContent,s=e.loadingContent;return t?s||o().createElement(a.Z,{objective:m}):0===n?d||o().createElement(r.Z,{text:u||"There is no data",size:p,icon:i,image:c}):l},t.prototype.render=function(){return this.showData()},t.defaultProps={emptyText:"There is no data",emptyIcon:"",emptyImage:"",size:"full",objective:!1},t}(o().Component);t.Z=u},60641:function(e,t){"use strict";t.Z={buttons:"buttons_18wb",step:"step_2TGP",dedicationWrapper:"dedicationWrapper_3CLG",featureImage:"featureImage_Nz4U",investIcon:"investIcon_1E_p",smallDesc:"smallDesc_rLtZ",description:"description_30kM",item:"item_281F",link:"link_3jTK",iframe:"iframe_WMJZ",clientsWrapper:"clientsWrapper_2zdX",clients:"clients_21O3",features:"features_2xlB",iconWrapper:"iconWrapper_2t8I",colorYellow:"colorYellow_iVS4",colorPrimary:"colorPrimary_1n6O",descriptionList:"descriptionList_3h7-",styled:"styled_304r",styleSpinner:"styleSpinner_1qYL",spinner:"spinner_3Hax",sortHandlerContainer:"sortHandlerContainer_1ei3",blueP:"blueP__d2Y",TipsContainer:"TipsContainer_u6UJ",bigContainer:"bigContainer_26LP",required:"required_3y-p"}}}]);